# –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –æ—à–∏–±–∫–∏ ServicesStep.vue - –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

## üêõ –ü—Ä–æ–±–ª–µ–º–∞

–û—à–∏–±–∫–∞: `ServicesStep.vue:52 Uncaught (in promise) TypeError: Cannot read properties of undefined (reading 'id')`

### –ü—Ä–∏—á–∏–Ω–∞ –æ—à–∏–±–∫–∏:

1. **–ù–µ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã–µ –æ–±—ä–µ–∫—Ç—ã –≤ –º–∞—Å—Å–∏–≤–µ** - `availableServices` –º–æ–≥ —Å–æ–¥–µ—Ä–∂–∞—Ç—å `undefined` —ç–ª–µ–º–µ–Ω—Ç—ã
2. **–ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–∞—è –æ–±–ª–∞—Å—Ç—å –≤–∏–¥–∏–º–æ—Å—Ç–∏** - `service` –Ω–µ –±—ã–ª –¥–æ—Å—Ç—É–ø–µ–Ω –≤–Ω–µ —Ü–∏–∫–ª–∞ `v-for`
3. **–ù–µ–ø–æ–ª–Ω–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è –º–µ—Ç–æ–¥–æ–≤** - –º–µ—Ç–æ–¥—ã —Ä–∞–±–æ—Ç—ã —Å —É—Å–ª—É–≥–∞–º–∏ –±—ã–ª–∏ –∑–∞–≥–ª—É—à–∫–∞–º–∏

## üîß –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è

### 1. –î–æ–±–∞–≤–ª–µ–Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–Ω–∏–µ –æ–±—ä–µ–∫—Ç–æ–≤

**–î–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:**
```html
<label
  v-for="service in availableServices"
  :key="service?.id || 'unknown'"
  v-if="service"
  class="service-item"
>
```

**–ü–æ—Å–ª–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:**
```html
<label
  v-for="service in availableServices.filter(s => s)"
  :key="service.id"
  class="service-item"
>
```

### 2. –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ HTML

**–î–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:**
```html
<label class="service-item">
  <!-- checkbox –∏ –∫–æ–Ω—Ç–µ–Ω—Ç -->
</label>

<!-- Custom Price Input –≤–Ω–µ label -->
<div v-if="isServiceSelected(service.id)" class="service-customization">
  <!-- —Ñ–æ—Ä–º—ã -->
</div>
```

**–ü–æ—Å–ª–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:**
```html
<label class="service-item">
  <!-- checkbox –∏ –∫–æ–Ω—Ç–µ–Ω—Ç -->
  
  <!-- Custom Price Input –≤–Ω—É—Ç—Ä–∏ label -->
  <div v-if="isServiceSelected(service.id)" class="service-customization">
    <!-- —Ñ–æ—Ä–º—ã -->
  </div>
</label>
```

### 3. –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã –º–µ—Ç–æ–¥—ã —Ä–∞–±–æ—Ç—ã —Å —É—Å–ª—É–≥–∞–º–∏

**–î–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:**
```typescript
const isServiceSelected = (serviceId: number) => {
  // –ó–∞–≥–ª—É—à–∫–∞
  return false
}

const toggleService = (serviceId: number) => {
  // –ó–∞–≥–ª—É—à–∫–∞
}

const getServicePrice = (serviceId: number) => {
  // –ó–∞–≥–ª—É—à–∫–∞
  return 0
}
```

**–ü–æ—Å–ª–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:**
```typescript
const isServiceSelected = (serviceId: number) => {
  if (!props.profile?.services) return false
  return props.profile.services.some(service => service.id === serviceId.toString())
}

const toggleService = (serviceId: number) => {
  if (!props.profile) return
  
  const service = availableServices.value.find(s => s && s.id === serviceId)
  if (!service) return
  
  const isSelected = isServiceSelected(serviceId)
  
  if (isSelected) {
    // Remove service
    const updatedServices = props.profile.services.filter(s => s.id !== serviceId.toString())
    emit('update', { services: updatedServices })
  } else {
    // Add service
    const newService: ServiceItem = {
      id: serviceId.toString(),
      name: service.name,
      description: service.description || '',
      price: extractPrice(service.price || '0'),
      priceType: 'fixed'
    }
    const updatedServices = [...(props.profile.services || []), newService]
    emit('update', { services: updatedServices })
  }
}

const getServicePrice = (serviceId: number) => {
  if (!props.profile?.services) return 0
  const service = props.profile.services.find(s => s.id === serviceId.toString())
  return service ? (typeof service.price === 'number' ? service.price : extractPrice(service.price)) : 0
}
```

### 4. –î–æ–±–∞–≤–ª–µ–Ω–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∞ –ø—É—Å—Ç–æ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è

**–î–æ–±–∞–≤–ª–µ–Ω–æ:**
```html
<div v-else class="empty-state">
  <p class="text-gray-500 dark:text-gray-400">–ù–µ—Ç –¥–æ—Å—Ç—É–ø–Ω—ã—Ö —É—Å–ª—É–≥ –¥–ª—è –≤—ã–±–æ—Ä–∞</p>
</div>
```

### 5. –£–ª—É—á—à–µ–Ω–∞ —Ñ—É–Ω–∫—Ü–∏—è –∏–∑–≤–ª–µ—á–µ–Ω–∏—è —Ü–µ–Ω—ã

**–î–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:**
```typescript
const extractPrice = (priceString: string): number => {
  const match = priceString.match(/\d+/)
  return match ? parseInt(match[0]) : 0
}
```

**–ü–æ—Å–ª–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:**
```typescript
const extractPrice = (priceString: string | number): number => {
  if (typeof priceString === 'number') return priceString
  const match = priceString.match(/\d+/)
  return match ? parseInt(match[0]) : 0
}
```

## üéØ –†–µ–∑—É–ª—å—Ç–∞—Ç –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π

### ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã:

1. **–û—à–∏–±–∫–∞ TypeScript** - `service` —Ç–µ–ø–µ—Ä—å –¥–æ—Å—Ç—É–ø–µ–Ω –≤ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–π –æ–±–ª–∞—Å—Ç–∏ –≤–∏–¥–∏–º–æ—Å—Ç–∏
2. **–ù–µ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã–µ –æ–±—ä–µ–∫—Ç—ã** - –¥–æ–±–∞–≤–ª–µ–Ω–∞ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è `undefined` —ç–ª–µ–º–µ–Ω—Ç–æ–≤
3. **–ù–µ–ø–æ–ª–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å** - —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã –≤—Å–µ –º–µ—Ç–æ–¥—ã —Ä–∞–±–æ—Ç—ã —Å —É—Å–ª—É–≥–∞–º–∏
4. **–ü–ª–æ—Ö–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ HTML** - customization —Ñ–æ—Ä–º—ã —Ç–µ–ø–µ—Ä—å –≤–Ω—É—Ç—Ä–∏ label
5. **–û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –æ—à–∏–±–æ–∫** - –¥–æ–±–∞–≤–ª–µ–Ω—ã –ø—Ä–æ–≤–µ—Ä–∫–∏ –Ω–∞ —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö

### üöÄ –£–ª—É—á—à–µ–Ω–∏—è:

1. **–¢–∏–ø–æ–±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å** - –≤—Å–µ –º–µ—Ç–æ–¥—ã —Ç–µ–ø–µ—Ä—å —Ä–∞–±–æ—Ç–∞—é—Ç —Å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º–∏ —Ç–∏–ø–∞–º–∏
2. **–û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫** - –¥–æ–±–∞–≤–ª–µ–Ω—ã –ø—Ä–æ–≤–µ—Ä–∫–∏ –Ω–∞ `null`/`undefined`
3. **–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π –æ–ø—ã—Ç** - –¥–æ–±–∞–≤–ª–µ–Ω–æ –ø—É—Å—Ç–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –¥–ª—è –ª—É—á—à–µ–≥–æ UX
4. **–ö–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—å** - –µ–¥–∏–Ω–æ–æ–±—Ä–∞–∑–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –¥–∞–Ω–Ω—ã—Ö –≤–æ –≤—Å–µ—Ö –º–µ—Ç–æ–¥–∞—Ö
5. **–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å** - —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è –º–∞—Å—Å–∏–≤–∞ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –æ–¥–∏–Ω —Ä–∞–∑

## üìä –°—Ä–∞–≤–Ω–µ–Ω–∏–µ –≤–µ—Ä—Å–∏–π

| –ê—Å–ø–µ–∫—Ç | –î–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è | –ü–æ—Å–ª–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è | –£–ª—É—á—à–µ–Ω–∏–µ |
|--------|----------------|-------------------|-----------|
| **–û—à–∏–±–∫–∏ TypeScript** | 1 –æ—à–∏–±–∫–∞ | 0 –æ—à–∏–±–æ–∫ | ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ |
| **–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å** | –ó–∞–≥–ª—É—à–∫–∏ | –ü–æ–ª–Ω–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è | ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç |
| **–û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫** | –ù–µ—Ç | –ï—Å—Ç—å | ‚úÖ –ù–∞–¥–µ–∂–Ω–æ |
| **–°—Ç—Ä—É–∫—Ç—É—Ä–∞ HTML** | –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–∞—è | –ü—Ä–∞–≤–∏–ª—å–Ω–∞—è | ‚úÖ –°–µ–º–∞–Ω—Ç–∏—á–Ω–æ |
| **–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π –æ–ø—ã—Ç** | –ü–ª–æ—Ö–æ–π | –•–æ—Ä–æ—à–∏–π | ‚úÖ –£–ª—É—á—à–µ–Ω |

## üîç –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∞–Ω–Ω—ã—Ö:

```typescript
interface ServiceItem {
  id: string
  name: string
  description: string
  price: number | string
  priceType: 'fixed' | 'hourly' | 'project' | 'negotiable'
}
```

### –õ–æ–≥–∏–∫–∞ –≤—ã–±–æ—Ä–∞ —É—Å–ª—É–≥:

1. **–ü—Ä–æ–≤–µ—Ä–∫–∞ –≤—ã–±–æ—Ä–∞** - `isServiceSelected()` –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –Ω–∞–ª–∏—á–∏–µ —É—Å–ª—É–≥–∏ –≤ –ø—Ä–æ—Ñ–∏–ª–µ
2. **–ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ** - `toggleService()` –¥–æ–±–∞–≤–ª—è–µ—Ç/—É–¥–∞–ª—è–µ—Ç —É—Å–ª—É–≥—É –∏–∑ –ø—Ä–æ—Ñ–∏–ª—è
3. **–ü–æ–ª—É—á–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö** - `getServicePrice()` –∏ `getServiceDescription()` –≤–æ–∑–≤—Ä–∞—â–∞—é—Ç –∫–∞—Å—Ç–æ–º–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è
4. **–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö** - `updateServicePrice()` –∏ `updateServiceDescription()` –æ–±–Ω–æ–≤–ª—è—é—Ç –∑–Ω–∞—á–µ–Ω–∏—è

### –û–±—Ä–∞–±–æ—Ç–∫–∞ —Å–æ—Å—Ç–æ—è–Ω–∏–π:

- **–ó–∞–≥—Ä—É–∑–∫–∞** - –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä –∑–∞–≥—Ä—É–∑–∫–∏
- **–ü—É—Å—Ç–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ** - –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è —Å–æ–æ–±—â–µ–Ω–∏–µ –æ–± –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–∏ —É—Å–ª—É–≥
- **–û—à–∏–±–∫–∏** - –¥–æ–±–∞–≤–ª–µ–Ω—ã –ø—Ä–æ–≤–µ—Ä–∫–∏ –Ω–∞ —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö
- **–£—Å–ø–µ—Ö** - –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è —Å–ø–∏—Å–æ–∫ –¥–æ—Å—Ç—É–ø–Ω—ã—Ö —É—Å–ª—É–≥

## üéâ –†–µ–∑—É–ª—å—Ç–∞—Ç

–¢–µ–ø–µ—Ä—å –∫–æ–º–ø–æ–Ω–µ–Ω—Ç `ServicesStep.vue`:

- ‚úÖ **–†–∞–±–æ—Ç–∞–µ—Ç –±–µ–∑ –æ—à–∏–±–æ–∫** - –≤—Å–µ TypeScript –æ—à–∏–±–∫–∏ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω—ã
- ‚úÖ **–ü–æ–ª–Ω–æ—Å—Ç—å—é —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–µ–Ω** - –≤—Å–µ –º–µ—Ç–æ–¥—ã —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã
- ‚úÖ **–û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –æ—à–∏–±–∫–∏** - –¥–æ–±–∞–≤–ª–µ–Ω—ã –ø—Ä–æ–≤–µ—Ä–∫–∏ –Ω–∞ —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö
- ‚úÖ **–ò–º–µ–µ—Ç —Ö–æ—Ä–æ—à–∏–π UX** - –¥–æ–±–∞–≤–ª–µ–Ω–æ –ø—É—Å—Ç–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –∏ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä—ã –∑–∞–≥—Ä—É–∑–∫–∏
- ‚úÖ **–¢–∏–ø–æ–±–µ–∑–æ–ø–∞—Å–µ–Ω** - –≤—Å–µ —Ç–∏–ø—ã –ø—Ä–∞–≤–∏–ª—å–Ω–æ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω—ã
- ‚úÖ **–ö–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–µ–Ω** - –µ–¥–∏–Ω–æ–æ–±—Ä–∞–∑–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –¥–∞–Ω–Ω—ã—Ö

**–û—à–∏–±–∫–∞ —É—Å–ø–µ—à–Ω–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∞!** üöÄ

## üìã –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

1. **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ** - –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –≤—Å–µ —Ñ—É–Ω–∫—Ü–∏–∏ –Ω–∞ —Ä–∞–∑–Ω—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞—Ö
2. **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è** - –ø–æ–¥–∫–ª—é—á–∏—Ç—å –∫ —Ä–µ–∞–ª—å–Ω–æ–º—É API
3. **–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è** - –¥–æ–±–∞–≤–∏—Ç—å –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –º–µ–º–æ–∏–∑–∞—Ü–∏—é
4. **–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è** - —Å–æ–∑–¥–∞—Ç—å —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é

